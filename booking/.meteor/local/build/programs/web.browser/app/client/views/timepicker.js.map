{"version":3,"sources":["meteor://ðŸ’»app/client/views/timepicker.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/views/timepicker.js","sourcesContent":["\n\nfunction addFormControlAtts() {\n\tvar atts = _.clone(this.atts);\n\tif (typeof atts[\"class\"] === \"string\") {\n\t\tatts[\"class\"] += \" form-control\";\n\t} else {\n\t\tatts[\"class\"] = \"form-control\";\n\t}\n\treturn atts;\n}\nTemplate.afInputTimePicker.atts = addFormControlAtts;\n\nTemplate.afInputTimePicker.rendered  = function() {\n\tthis.$('#datetimepicker').datetimepicker({\n\t\tformat: \"h:mm A\",\n\t\tstepping:5\n\t});\n\tself = this;\n\tthis.autorun(function () {\n\t\tvar data = Template.currentData();\n\t\tvar dtp = self.$(\"#datetimepicker\").data(\"DateTimePicker\");\n\n\t\t// set field value\n\t\tif (data.value instanceof Date) {\n\t\t\tdtp.date(data.value);\n\t\t} else {\n\t\t\tdtp.date(); // clear\n\t\t}\n\t});\n\tthis.autorun(function(comp) {\n\t\ttry{\n\t\t\tif (Session.get(\"newTime\") && Session.get(\"formForInsert\") &&\n\t\t\t\t(Router.current().route.getName() === \"newAppointment\" ||\n\t\t\t\tRouter.current().route.getName() === \"newBlockout\")) {\n\t\t\t\tconsole.log(\"setting DateTimePicker value from newTime\");\n\t\t\t\tself.$('#datetimepicker').data(\"DateTimePicker\").date(moment(Session.get(\"newTime\"), \"h:mm A\"))\n\t\t\t}\n\t\t}\n\t\tcatch (e) {\n\t\t\t\n\t\t\tconsole.log(e);\n\t\t}\n\t})\n};\nTemplate.afInputTimePicker.events = {\n\t'click #datetimepicker': function (event){\n\t\t$(event.currentTarget).data(\"DateTimePicker\").show();\n\t}\n};\nTemplate.afInputTimePicker.onDestroyed = function() {\n\t$(\"div.bootstrap-datetimepicker-widget\").remove();\n};\nAutoForm.addInputType(\"timePicker\", {\n\ttemplate: \"afInputTimePicker\",\n\tvalueIn: function(val) {\n\t\t\n\t\treturn val;\n\t},\n\tvalueOut: function() {\n\t\ttry {\n\t\t\treturn $('#datetimepicker').data(\"DateTimePicker\").date().toDate();\n\t\t} catch (e) {\n\n\t\t}\n\t}\n});"]}